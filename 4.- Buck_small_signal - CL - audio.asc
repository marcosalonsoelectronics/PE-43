Version 4
SHEET 1 1096 868
WIRE -368 -288 -448 -288
WIRE -192 -288 -288 -288
WIRE -592 -208 -624 -208
WIRE -448 -208 -448 -288
WIRE -448 -208 -592 -208
WIRE -192 -208 -192 -288
WIRE -48 -208 -192 -208
WIRE 16 -208 -48 -208
WIRE 144 -208 16 -208
WIRE 272 -208 224 -208
WIRE 416 -208 352 -208
WIRE 512 -208 416 -208
WIRE 560 -208 512 -208
WIRE 944 -208 560 -208
WIRE -48 -176 -48 -208
WIRE 416 -176 416 -208
WIRE -448 -128 -448 -208
WIRE -368 -128 -448 -128
WIRE -192 -128 -192 -208
WIRE -192 -128 -288 -128
WIRE -624 -112 -624 -208
WIRE 560 -96 560 -208
WIRE 416 -80 416 -112
WIRE -48 -64 -48 -96
WIRE -624 112 -624 -32
WIRE -48 112 -48 16
WIRE -48 112 -624 112
WIRE 416 112 416 0
WIRE 416 112 -48 112
WIRE 560 112 560 -16
WIRE 560 112 416 112
WIRE -624 160 -624 112
WIRE 80 256 32 256
WIRE 240 256 160 256
WIRE 368 256 304 256
WIRE 368 336 368 256
WIRE 480 336 368 336
WIRE 944 336 944 -208
WIRE 944 336 560 336
WIRE 368 384 368 336
WIRE 368 384 144 384
WIRE -352 400 -384 400
WIRE 32 400 32 256
WIRE 32 400 -352 400
WIRE 80 400 32 400
WIRE 304 416 144 416
WIRE 304 464 304 416
WIRE 304 576 304 544
FLAG -624 160 0
FLAG 512 -208 o
FLAG 16 -208 sq
FLAG -592 -208 b
FLAG -352 400 d
FLAG 304 576 0
SYMBOL cap 400 -176 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL voltage -624 -128 R0
WINDOW 123 42 57 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName VB
SYMATTR Value 0
SYMBOL res 544 -112 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL res 400 -96 R0
SYMATTR InstName R2
SYMATTR Value {rC}
SYMBOL res 368 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {rL}
SYMBOL Misc\\Gpoly -272 -288 R90
WINDOW 0 62 56 VBottom 2
WINDOW 3 -40 49 VBottom 2
SYMATTR InstName Gsd
SYMATTR Value value = {ksd*V(d)}
SYMBOL Misc\\Gpoly -272 -128 R90
WINDOW 0 62 56 VBottom 2
WINDOW 3 90 56 VBottom 2
SYMATTR InstName Gsl
SYMATTR Value value = {ksl*i(L1)}
SYMBOL Misc\\Epoly -48 -192 R0
WINDOW 3 39 60 Left 2
SYMATTR Value value = {kdd*V(d)}
SYMATTR InstName Edd
SYMBOL Misc\\Epoly -48 -80 R0
WINDOW 3 43 60 Left 2
SYMATTR Value value = {kdb*V(b)}
SYMATTR InstName Edb
SYMBOL ind 128 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMBOL voltage 304 448 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -107 32 Left 2
WINDOW 3 -69 70 Left 2
SYMATTR InstName Vref1
SYMATTR Value 5
SYMBOL res 176 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1.81k
SYMBOL cap 304 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res 576 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1.81k
SYMBOL MyOpamp 112 400 R180
WINDOW 39 57 -98 Center 2
WINDOW 40 52 -66 Center 2
WINDOW 0 16 28 Left 2
WINDOW 38 15 -34 Left 2
SYMATTR SpiceLine2 Ao=1e6 FBW=10e6
SYMATTR InstName U5
TEXT 448 -456 Left 2 !.param ksd=Vo/R\n.param ksl=D\n \n.param kdd=VB\n.param kdb=D
TEXT 8 -536 Left 2 !.param VB=10\n.param D=0.53\n \n.param L=10u\n.param C=33u\n.param R=1\n.param rL=0.05\n.param rC=0.1\n.param Vo=D*VB/(1 + rL/R)
TEXT -464 -480 Left 2 !.ac dec 100 10 1meg
TEXT -464 -440 Left 2 !.meas Vo_value param Vo
